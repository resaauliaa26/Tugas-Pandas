<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard Analisis DM Jawa Barat</title>

    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        margin: 0;
        background: linear-gradient(135deg, #ff9a9e, #a18cd1, #6a85b6);
      }
      .container {
        padding: 25px;
      }
      h1 {
        color: white;
        margin-bottom: 5px;
      }
      .subtitle {
        color: #f1f1f1;
        margin-bottom: 25px;
      }
      .card {
        background: white;
        border-radius: 14px;
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }
      .summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
      }
      .summary-box {
        background: linear-gradient(135deg, #ff6f91, #845ec2);
        color: white;
        padding: 15px;
        border-radius: 12px;
        text-align: center;
        font-weight: bold;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        font-size: 12px;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 6px;
      }
      th {
        background: linear-gradient(135deg, #6a85b6, #a18cd1);
        color: white;
        position: sticky;
        top: 0;
      }
      tr:nth-child(even) {
        background: #f9f9f9;
      }
      .scroll {
        max-height: 400px;
        overflow-y: auto;
      }
      img {
        max-width: 100%;
        border-radius: 12px;
        margin-top: 15px;
      }
      h3 {
        color: #6a11cb;
      }
      footer {
        text-align: center;
        color: white;
        font-size: 13px;
        margin-top: 30px;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>Dashboard Analisis Diabetes Mellitus</h1>
      <div class="subtitle">Data Kesehatan Provinsi Jawa Barat</div>

      <div class="card summary">
        <div class="summary-box">Total Baris<br />{{ total_rows }}</div>
        <div class="summary-box">Total Kolom<br />{{ total_cols }}</div>
        <div class="summary-box">Kab/Kota<br />{{ total_kab }}</div>
        <div class="summary-box">Tahun<br />{{ tahun }}</div>
      </div>

      <div class="card">
        <h3>Dataset Lengkap</h3>
        <div class="scroll">
          <table>
            <thead>
              <tr>
                {% for col in columns %}
                <th>{{ col }}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for row in data %}
              <tr>
                {% for col in columns %}
                <td>{{ row[col] }}</td>
                {% endfor %}
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3>Statistik Deskriptif</h3>
        {{ statistik | safe }}
      </div>

      <div class="card">
        <h3>Visualisasi Data</h3>
        <img src="{{ url_for('static', filename='bar.png') }}" />
        <img src="{{ url_for('static', filename='line.png') }}" />
        <img src="{{ url_for('static', filename='pie.png') }}" />
      </div>

      <div class="card">
        <h3>Analisis Data</h3>
        <p>
          Dashboard ini menampilkan dataset, statistik deskriptif, dan
          visualisasi untuk membantu memahami pola penderita Diabetes Mellitus
          di Jawa Barat. Beberapa wilayah memiliki beban penderita yang lebih
          tinggi dan tren tahunan menunjukkan fluktuasi dengan kecenderungan
          meningkat pada tahun terakhir.
        </p>
      </div>

      <footer>Â© 2025 | Analisis Data Kesehatan Jawa Barat</footer>
    </div>
  </body>
</html>
